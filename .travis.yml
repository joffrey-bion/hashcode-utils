language: java

jdk:
  - openjdk8

env:
  global:
    - GITHUB_USER=joffrey-bion
    - BINTRAY_USER=joffrey-bion
    - BINTRAY_REPO=maven
    - secure: LJR8ejBN6C5rXxx0gEI89O5Wj9umlWCdwx8b5oTn+x/KFBt7QmZlvSpWrSx7VKDZAzvmPX1sXXxsoV7SFPqHQcnz1d/lnzPBQhReu0ZgItUwOtaXlfcrZ8iWKMqw51d/+YpOWsJ9dXkUCSp12hjL/75QAOEIU7ym8NVYYw7jwQmJf9tgh/i5MtBTbT8zDgZjDKcWdUP519ot23R74ReKobdWFGpi27KJiu6acOMlgT8wakUq8ld7dwHelSP99OGOxuPcYveHUiNiqfXAMtvImZtYtYW8PGoRFp8dEKuuwA2aNdljLbmo353PJSqLXRtgFeYySQ8bygDYp9OuPf+o1NRRWeXfw1lU3Y6ef2QiAqmIataWqxjb5LqtvlsEAInTid/w8yneOOG7abq3fp+UKDsiUsKvwJ7FZyjzQsgYm5T6OHyLx8Ssv52fMAn6IN8qDC8IHMR6EQB2JYVeEjSX7gYze8i2tyykR4u29riV3vBK2mje7epockQaPrfNOCDe5QQ9rQpDO8FCOBmYelK5bmU5AUQu4g9QCNJJIwsyp3n2d9brkhTVEm7+FQXDgeGOQ+2i41zeQR3kIqIh4SsD6r/07PpAarCGGPNdNhy1YQfPr23B/mpqyHygtOaWNBj9UVHY0Bk8bmV1bd9d7tS+86ABZomPs/F7+XeLa0NOPQc=
    - secure: mdGzc8+57a4CHwDDFziOaqGNcZWPIFAEXKLFKN9roMsh/5vPKOeTp8h1z9RwxPanBv7nb2Cz+3rvDad5t7hs89D7x7gRuzFxbQtLevxNgbbQb5Ngl1c5DZKK2NndbRChAW5aFGOwRsR700C9GPfxQQZUKHOPw1FRq0Q6Cnt6iBs25/c1fSpWHGxsqH8yXB+c53TZ2Uw+s/vh2Fkb9E46hJyo7iA0ON1bnfGGoMp4VLrAsjkoFJu1q658SCLcdo+MJMNoTlcJ0BlMANUm01nTrJK6k7XV0XapGlJJ9ZWIQCpzz3pvzTaYX+XlO9BhOLv5WW/m1dCwqaCHBCg2ZRL0BokhEVvM3As8shZBz28djGZ0Z4eGPOqdwEFAFuxj1zNmMEpNc0Pe4jgfSjiSR8MWLxLuRLqDVFrJDn8JXSAtx8t85XfzaHbbfDVnY6VxaA20gPOTk+RW5wIXZUsrtxjKHQUjqfT2KBQyQMS8NDSColm/59cmVpznPngusQzuElnG1ip54iUmXVVtWY5RIt38eKt6KInZjPs4AzKT0tOMI0nHnm2DXnUy0gGOsqxSDRP/pj+sVOpuMAVaYvYtLbKddmY2CAUJuCBMfpKbJJm8dsSmkc7XVyJaqm12XESrW//kUfLhM9sNiUl6L7msKreZtwhyICVhpfE67QmUdpUkTWs=
    - secure: dxlqvY8o/aXvBexH3qIRmqY5AuUgL2JcVG98tg6HTdHaO06xuHUyeh/J5GDMBlY4ByFYeaGIvv0ruyhNvbmAaA6+SPg8e3kkGwURx31To9U+RXirJQI8yH5vddf9CFutO2hLE6wBU8H4fvYOGb046yqHoIG6znZj21yDHFA/RPHvICfacJe8LRf0rhjMcmcvloZCTmZDgqVEXAU0/7TM/VPwVDjqiCSdZhZ5oA+dkeZ1udP0aV0sq8p/cPAswABr0dxFjya9sZCZeSXFu8fBi8tDpijvgkfcyqKbeU5u9/iZEiAH1DedgdBsdxWuHthnPw57ZigzdCbp90SB7Gwge1O6HcmP4iVtwoFq8TJS1ojd0FDIYAldA2DS2XFtg3MOzY/nC0QiwW8pUctEPXUhu9yaTQxM8NmiB7DhWH8KIFf46rdO0mEkKLIX/DFSMNR/33QEI/Q3Ahq8J5yxuwV6xkbyTTLeI6oUoRg0sQALHbq5iDNqx2Q38uTFxJS5NhyUZyPn8h9aCFd381l4rjh+Alp3UiG+NIP/1psKytFLrHG95EVtc59x63feulO+CGsBdtTp5GJ6cS67864RdVU2M9VvnOIilZ7y7OdjWY9RvNIWKiiIgc80Jk64Zu1lTfL2xgp1QfaZOKYc4QDPDYGf7VqiWz6b65rQZiQ+1rzux/w=

deploy:
  - provider: script
    script: ./gradlew bintrayUpload
    on:
      tags: true

# These files change at every build, and should not be cached
# https://docs.travis-ci.com/user/languages/java/#Caching
before_cache:
  - rm -f  $HOME/.gradle/caches/modules-2/modules-2.lock
  - rm -fr $HOME/.gradle/caches/*/plugin-resolution/

# Cache Gradle's dependencies and wrapper download
cache:
  directories:
    - $HOME/.gradle/caches/
    - $HOME/.gradle/wrapper/
